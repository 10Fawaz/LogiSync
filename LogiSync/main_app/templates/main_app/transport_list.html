{% extends 'base.html' %} {% block content %}

<div class="page-header">
<h1>Transport List</h1>
</div>

<br />

<form class="d-flex" method="POST" action="{% url 'transport_list' %}">
  {% csrf_token %}

  <input
    class="form-control me-2"
    type="search"
    placeholder="Search Transport"
    aria-label="Search"
    name="searched"
  />
  <button class="btn btn-outline-secondary" type="submit">Search</button>
</form>

<br />
<br />

{% if search_result %}

<div class="card">
  <div class="card-content">
    
    <h2>Result for "{{ search_result.name }}"</h2>
    
    <a href="{% url 'transport_detail' search_result.id %}">

      <p><strong>Code:</strong> {{ search_result.code }}</p>
      
      <p><strong>Source:</strong> {{ search_result.source }}</p>
      <p><strong>Destination:</strong> {{ search_result.destination }}</p>
      <p><strong>Description:</strong> {{ search_result.description }}</p>
    
    </a>
    
    <a href="{% url 'transport_list' %}"><button>Back</button></a>
    
  </div>  
</div>

{% elif message %}
  <p style="color:red;">{{ message }}</p>
  <a href="{% url 'transport_list' %}"><button>Back</button></a>

  {% else %}
  {% for transport in transports %}
<div class="card">
  <a href="{% url 'transport_detail' transport.id %}">
  <div class="card-content">
    <span class="card-title"> {{transport.name}} </span>
    <p>driver name: {{transport.driver}}</p>
    <p>description: {{transport.description}}</p>
  </div>
  </a>
</div>
{% endfor %} 
{% endif %}
  


{% endblock %}
